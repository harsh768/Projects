<html>
    <head>
        <title>TODO List</title>
        <link rel="stylesheet" href="CSS/custom-select.css">
        <link rel="stylesheet" href="CSS/style.css">
    </head>
    <body>
        <div class="todo-cntnr">
            <div class="heading border-below">TODO App</div>


            <!-- Input data section -->
            <form action="/add-task" method=post id="add-task">
                <div class="descrip-cntnr border-below">
                    <div class="desc-heading bold">Description</div>
                    <input id="descrip-text" name="desc" type="text" placeholder="What do you need to do?" required>
                </div>
                
                    <div class="category-cntnr border-below">
                        <div class="cat-head bold">Category</div>
                        <!-- <select name="cat" form="add-task" id="cat">
                            <option value="">Select Option</option>
                            <option value="home">Home</option>
                            <option value="work">Work</option>
                            <option value="school">School</option>                    
                        </select> -->

                        <div class="cont_select_center">

                            <!-- Custom select structure --> 
                              <div class="select_mate" data-mate-select="active" >
                                  <select name="cat" form="add-task" onclick="return false;" id="cat">
                                  <option value="" >Select Option </option>
                                  <option value="home">Home</option>
                                  <option value="work" >Work</option>
                                  <option value="school">School</option>
                                  </select>
                                  <p class="selecionado_opcion"  onclick="open_select(this)" ></p>
                                  <span onclick="open_select(this)" class="icon_select_mate" >
                                      <svg fill="#000000" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg">
                                          <path d="M7.41 7.84L12 12.42l4.59-4.58L18 9.25l-6 6-6-6z"/>
                                          <path d="M0-.75h24v24H0z" fill="none"/>
                                      </svg>
                                  </span>
                                  <div class="cont_list_select_mate">
                                    <ul class="cont_select_int">  </ul> 
                                  </div>
                                </div>
                                <!-- Custom select structure --> 
                      
                      
                          </div>
    
                    </div>
                
                
                <div class="category-cntnr  border-below" id="duedate-cntnr">
                    <div class="cat-head bold" >Due date</div>
                    <div class="date-picker">
                        <input type="date" name="date" required>
                    </div>
                    
                </div>
                <button type="submit" class="hidden" id="add-task-submit"></button>
                
            </form>


            <!-- Button section -->
            <div class = "button-cntnr border-below">
                <button class="btn" id="add-task-btn">
                    <i class="fas fa-plus"></i>
                    <div>Add Task</div>
                    
                </button>
                <button class="btn" id="delete-task-btn">
                    <i class="far fa-trash-alt"></i>
                    <div>Delete Task</div>
                </button>
            </div>
           
            
           <!-- Task section -->
            <form action="/delete-task" method=post id="delete-task">
                <div class="tasks-cntnr">
                    <ul>
                        <% for(let i of taskList) {%>
                        <li class="border-below">
                            <input  type="checkbox" name ="tasks" id="<%=i.id%>" value="<%=i.id%>">
                            <label for="<%=i.id%>">
                                <div class="label-cntnr-cntnr">
                                <div class="label-cntnr">
                                    <div class="desc-date-cntnr">
                                        <div class="task-desc"><%=i.description %></div>
                                    
                                   
                                        <div class="task-date">
                                            <i class="far fa-calendar-alt"></i>
                                            <%=i.dueDate.toDateString() %>
                                        </div>
                                    </div>                                                                                                  
                                    
                                    <div class="task-category <%=i.category %>"><%=i.category %></div>
                                </div> 
                                </div>                        
                            </label>
                        </li>
                        
                        <%}%>
                    </ul>
                </div>
                <button type="submit" class="hidden" id="delete-task-submit"></button>
            </form>
           
            
           
        </div>
        <script src="https://kit.fontawesome.com/ed46840379.js" crossorigin="anonymous"></script>
        <script src="javascript/custom-select.js"></script>
        <script src="javascript/index.js"></script>
    </body>
</html>


<div id="Alllists">
    <form action="/delete-todo" method="GET">
        <ul style="margin:0">
            <!-- Unordered list is used -->
            <% for(let i of Todo_List){%>
                <label for="list"></label>
                <li id="list"><input type="checkbox" name="check" class="CHECKBOX" value='{"id":"<%=i._id%>"}'>

                    <div id="listitems">
                        <h3 style="margin:0;margin-bottom:0.8%;color:brown;font-size: 1.5rem;" class="about-desc">
                            <%= i.description%>
                        </h3>
                        <span><i class="fas fa-calendar-alt"></i>&nbsp;<span class="about-date"><%= i.date%></span></span>
                    </div>
                    <div class="Category-type">
                        <p style="margin:0;margin-top:28%;font-family:sans-serif;font-size: 1rem;font-weight:bold;color:rgb(185, 13, 70)">
                            <%= i.category%>
                        </p>
                    </div>
                </li>
                <%}%>
        </ul>
        <button id="Delete-button" type="submit"><i class="fas fa-trash-alt"></i>DELETE TASKS</button>

    </form>
</div>


</form>

<!-- <div id="list-container">

  <form action="delete-task" method="POST">
    <button type="submit" id="delete-task"><i class="fas fa-trash-alt"></i> Delete</button>
    <% for(let i of list){ %>
    <div class="list_item">
      <input type="checkbox" value="<%= i._id %>" style="margin-bottom:-10px" name="check<%= i._id %>"
        class="checks">
      <p>
        <h2><%= i.description %></h2>
        <div id="category_display"><%= i.category %></div>
        <p><i class="far fa-calendar-alt"></i> <%= i.date %></p>
      </p>
    </div>
    <% } %>
  </form>

  module.exports.DeleteList = function (req, res) {
    for(let i in req.body){
      
       Item.findByIdAndDelete(req.body[i], function (err) {
        if (err) {
          console.log('error in deleting'); return;
        }
  
      })
    }
    return res.redirect('back');
  } -->